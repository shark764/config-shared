"use strict";!function(e){e.module("liveopsConfigPanel.shared.config",[]).value("liveopsConfigPanel.shared.config",{debug:!0}),e.module("liveopsConfigPanel.shared.directives",["liveopsConfigPanel.shared.services","liveopsConfigPanel.shared.filters"]),e.module("liveopsConfigPanel.shared.filters",[]),e.module("liveopsConfigPanel.shared.services",["toastr","ngLodash","ngResource","pascalprecht.translate","liveopsConfigPanel.shared.config"]),e.module("liveopsConfigPanel.shared",["liveopsConfigPanel.shared.config","liveopsConfigPanel.shared.directives","liveopsConfigPanel.shared.filters","liveopsConfigPanel.shared.services"])}(angular),angular.module("liveopsConfigPanel.shared.config").value("apiHostname","http://localhost:9080").constant("BIRST_URL","http://dev-birst.liveopslabs.com").constant("SSO_PASSWORD","JO4IIiv0vuzyhoYoyWpbip0QquoCQyGh").constant("SPACE_ID","2846b565-23f8-4032-b563-21f8b7a01cc5").constant("helpDocsHostname","http://beta-help-docs.liveopslabs.com"),angular.module("liveopsConfigPanel.shared.config").constant("jsedn",window.jsedn).constant("preferenceKey","LIVEOPS-PREFERENCE-KEY").constant("sessionKey","LIVEOPS-SESSION-KEY").constant("uuidcacheKey","LIVEOPS-CACHE-KEY").factory("userStatuses",function(){return function(){return[{display:"Disabled",value:"disabled"},{display:"Enabled",value:"enabled"},{display:"Pending",value:"pending"}]}}).factory("statuses",function(){return function(){return[{display:"Disabled",value:!1},{display:"Enabled",value:!0}]}}).factory("ynStatuses",function(){return function(){return[{display:"No",value:!1},{display:"Yes",value:!0}]}}).factory("tenantStatuses",function(){return function(){return[{display:"Disabled",value:"disabled"},{display:"Expired Invitation",value:"expired"},{display:"Pending Invitation",value:"pending"},{display:"Accepted",value:"accepted"},{display:"Pending Acceptance",value:"invited"},{display:"Removed",value:"removed"}]}}).constant("userStates",[{display:"Busy",value:"busy"},{display:"Ready",value:"ready"},{display:"Not Ready",value:"not-ready"},{display:"Allocated",value:"allocated"},{display:"Offline",value:"offline"}]).constant("userRoles",[{value:"admin",display:"Admin"},{value:"user",display:"User"},{value:"other",display:"Other"}]),angular.module("liveopsConfigPanel.shared.filters").filter("hasPermission",["UserPermissions",function(e){return function(n){return angular.isArray(n)||(n=[n]),e.hasPermissionInList(n)}}]),Array.prototype.removeItem=function(e){var n=this.indexOf(e);n>-1&&this.splice(n,1)},Array.prototype.clear=function(){this.splice(0,this.length)},Array.prototype.shuffle=function(){var e,n,t=this.length;if(0===t)return this;for(;--t;)e=Math.floor(Math.random()*(t+1)),n=this[t],this[t]=this[e],this[e]=n;return this},String.prototype.insert=function(e,n){return e>0?this.substring(0,e)+n+this.substring(e,this.length):n+this},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.contains||(String.prototype.contains=function(e){return this.indexOf(e)>-1}),angular.module("liveopsConfigPanel.shared.services").service("Alert",["toastr","$window",function(e,n){this.confirm=function(e,t,r){n.confirm(e)?t&&t():r&&r()},this.warning=function(){e.warning.apply(this,arguments)},this.success=function(){e.success.apply(this,arguments)},this.error=function(){e.error.apply(this,arguments)},this.info=function(){e.info.apply(this,arguments)}}]),angular.module("liveopsConfigPanel.mock",[]).value("mockRegions",[{id:"regionId1",description:"US East (N. Virginia)",name:"us-east-1"}]).value("mockLogin",{userId:"userId1",username:"username",platformPermissions:[],tenants:[]}).run(function(e,n,t,r,o){o.token="token1",o.tenant={tenantId:"tenant-id"},o.user={id:"userId1"},o.activeRegionId=t[0].id,e.when("GET",n+"/v1/regions").respond({result:t}),e.when("POST",n+"/v1/login").respond({result:r})}),angular.module("liveopsConfigPanel.shared.services").service("DirtyForms",["Alert","$translate",function(e,n){var t=this;this.forms=[],this.hasDirty=function(){var e=!1;return angular.forEach(t.forms,function(n){n.$dirty&&(e=!0)}),e},this.registerForm=function(e){t.forms.push(e)},this.removeForm=function(e){t.forms.removeItem(e)},this.confirmIfDirty=function(r){t.hasDirty()?e.confirm(n.instant("unsavedchanges.nav.warning"),r,angular.noop):r()}}]),function(){var e=function(e,n,t){return{seed:function(r,o){var i,a,s,l,u,d,c,p,f,m="10f15d80-0052-11e5-b68b-fb65b1fe22e1";return e.get("http://localhost:9080/v1/regions").then(function(n){return i=n.data.result[0].id,console.log("-- TITAN_REGION_ID --",i),e.post("http://localhost:9080/v1/login",{email:"titan@liveops.com",password:"gKVnfF9wrs6XPSYs"})}).then(function(n){return a=n.data.result.user.id,console.log("-- TITAN_ADMIN_ID --",a),e.post("http://localhost:9080/v1/users",{createdBy:a,email:r,password:o,firstName:"Test",lastName:"User",status:"enabled",externalId:"00000000-0000-0000-000000000000"})}).then(function(n){return s=n.data.result.id,l=n.data.result.email,console.log("-- CREATED_USER_ID --",s),console.log("-- CREATED_USER_EMAIL --",l),e.post("http://localhost:9080/v1/tenants",{adminUserId:s,createdBy:a,description:"This is a test tenant created by the seed service.",name:"Test Tenant",regionId:i})}).then(function(n){return u=n.data.result.id,console.log("-- CREATED TENANT ID --",u),e.post("http://localhost:9080/v1/tenants/"+u+"/invites",{roleId:m,email:l})}).then(function(i){return d=i.data.result.invitation.invitationToken,console.log("-- CREATED_INVITE_TOKEN --",d),console.log("-- LOG IN AS NEW USER --"),t(function(){n.login(r,o).then(function(){return e.get("http://localhost:9080/v1/tenants/"+u+"/invites/"+s+"/accept?token="+d)}).then(function(n){return f=n.data.result,console.log("-- ACCEPTED_INVITE_STATUS --",f),e.post("http://localhost:9080/v1/tenants/"+u+"/flows",{createdBy:s,description:"Test flow description.",name:"Test flow",tenantId:u,type:"customer"})}).then(function(n){return c=n.data.result.id,console.log("-- CREATED_FLOW_ID --",c),e.post("http://localhost:9080/v1/tenants/"+u+"/flows/"+c+"/versions",{createdBy:s,description:"Initial Version.",name:"v1",flowId:c,tenantId:u,flow:"[]"})}).then(function(e){p=e.data.result.version,console.log("-- CREATED VERSION ID --",p),console.log('\n\n Done seeding DB with all necessary data to access the flows screen. Log in as the user "'+r+'" with the password "'+o+'" and access the flows screen and go to town :)')})},5e3),n.login(r,o)})}}};angular.module("liveopsConfigPanel.shared.services").service("flowSetup",e)}(),angular.module("liveopsConfigPanel.shared.directives").directive("auditText",["$filter","TenantUser","Session",function(e,n,t){return{restrict:"AE",scope:{translation:"@",userId:"=",date:"="},template:"{{get()}}",link:function(r){r.get=function(){if(!r.userId)return e("translate")(r.translation,{date:e("date")(r.date,"medium")});var o=n.cachedGet({id:r.userId,tenantId:t.tenant.tenantId},"AuditTextUsers");return o.$resolved&&(r.text=e("translate")(r.translation,{displayName:o.getDisplay(),date:e("date")(r.date,"medium")})),r.text}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("autocomplete",["filterFilter","$timeout",function(e,n){return{restrict:"E",scope:{items:"=",nameField:"@",onSelect:"&",prefill:"=",isRequired:"=",placeholder:"@",hover:"=",keepExpanded:"=",onEnter:"&"},templateUrl:"liveops-config-panel-shared/directives/autocomplete/autocomplete.html",link:function(t){t.currentText=t.prefill||"",t.$watch("currentText",function(){var r;if(t.nameField){var o=t.filterCriteria={};o[t.nameField]=t.currentText,r=e(t.items,o,!0)}n(function(){t.onSelect({currentText:t.currentText})})}),t.select=function(e){t.hovering=!1,t.currentText=e.content},t.onBlur=function(){t.keepExpanded||(t.showSuggestions=!1)}}}}]),angular.module("liveopsConfigPanel.shared.directives").service("BulkAction",["$q",function(e){var n=function(){this.checked=!1};return n.prototype.reset=function(){this.checked=!1},n.prototype.apply=function(){},n.prototype.execute=function(n){var t=[],r=this;return angular.forEach(n,function(n){r.doesQualify(n)&&t.push(e.when(r.apply(n)))}),e.all(t)},n.prototype.canExecute=function(){return!0},n.prototype.doesQualify=function(){return!0},n}]),angular.module("liveopsConfigPanel.shared.directives").controller("bulkActionExecutorController",["$scope","$filter","$q","$translate",function(e,n,t){var r=this;e.bulkActions=[],this.register=function(n){e.bulkActions.push(n)},this.deregister=function(n){e.bulkActions.removeItem(n)},this.getCheckedItems=function(e){return n("filter")(e,{checked:!0})},this.getAffected=function(){var n=r.getCheckedItems(e.items),t=r.getCheckedItems(e.bulkActions),o=[];return angular.forEach(n,function(e){angular.forEach(t,function(n){n.doesQualify(e)&&o.push(e)})}),o},this.execute=function(){var n=r.getCheckedItems(e.bulkActions),o=[];return angular.forEach(n,function(n){if(n.canExecute()){var i=r.getCheckedItems(e.items);o.push(t.when(n.execute(i)))}}),t.all(o)},this.canExecute=function o(){var n=r.getCheckedItems(e.bulkActions),o=!!n.length;return(o=o&&!!r.getAffected().length)&&angular.forEach(n,function(e){o=o&&e.canExecute()}),o}}]),angular.module("liveopsConfigPanel.shared.directives").directive("bulkActionExecutor",["$q","Alert","Modal","$translate","DirtyForms","$filter",function(e,n,t,r,o,i){return{restrict:"E",scope:{items:"=",showBulkActions:"=",dropOrderBy:"@",confirmMessageKey:"@"},transclude:!0,templateUrl:"liveops-config-panel-shared/directives/bulkActionExecutor/bulkActionExecutor.html",controller:"bulkActionExecutorController",link:function(e,a,s,l,u){e.confirmExecute=function(){t.showConfirm({title:r.instant("bulkActions.confirm.title"),message:r.instant(e.confirmMessageKey,{numItems:l.getAffected().length}),okCallback:e.execute})},e.closeBulk=function(){o.confirmIfDirty(function(){e.$emit("details:panel:close")})},e.selectedItems=function(){if(e.checkedItems.clear(),angular.forEach(e.items,function(n){n.checked&&e.checkedItems.push(n)}),e.dropOrderBy){var n=i("orderBy")(e.checkedItems,e.dropOrderBy);e.checkedItems.clear(),e.checkedItems.push.apply(e.checkedItems,n)}return e.checkedItems},e.cancel=function(){o.confirmIfDirty(function(){e.bulkActionForm.$dirty?e.resetForm():e.closeBulk()})},e.resetForm=function(){e.bulkActionForm.$setUntouched(),e.bulkActionForm.$setPristine(),angular.forEach(l.bulkActions,function(e){e.reset()})},u(e.$parent,function(e){a.find(".detail-body").append(e)}),e.confirmMessageKey||(e.confirmMessageKey="bulkActions.confirm.message"),e.checkedItems=[],e.$watch("showBulkActions",function(n){n||e.resetForm()}),e.execute=function(){return e.bulkActionForm.$setUntouched(),e.bulkActionForm.$setPristine(),l.execute().then(function(){n.success(r.instant("bulkAction.success")),e.resetForm()})},e.canExecute=l.canExecute}}}]),angular.module("liveopsConfigPanel.shared.directives.bulkAction.mock",["liveopsConfigPanel.mock"]).service("mockBulkActions",["$q","BulkAction",function(e,n){var t=[new n];return t[0].checked=!0,spyOn(t[0],"execute").and.returnValue(e.when()),spyOn(t[0],"canExecute").and.returnValue(!0),t.push(new n),t[1].checked=!0,spyOn(t[1],"execute").and.returnValue(e.when()),spyOn(t[1],"canExecute").and.returnValue(!1),t}]),angular.module("liveopsConfigPanel.shared.directives").directive("compiledInclude",["$compile","$templateCache","$http","$q",function(e,n,t,r){return{restrict:"A",priority:400,compile:function(){return function(o,i,a){var s=a.compiledInclude,l=n.get(s);l||(l=t.get(s,{cache:n}).then(function(e){return n.put(s,e.data),e.data})),r.when(l).then(function(n){i.html(n),e(i.contents())(o)})}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loCancel",["$q",function(e){return{restrict:"A",require:["^loFormCancel"],link:function(n,t,r,o){r.event=angular.isDefined(r.event)?r.event:"click",t.bind(r.event,function(){var t=e.when(n.$eval(r.loCancel));t.then(function(){return o[0].cancel()}),n.$apply()})}}}]),angular.module("liveopsConfigPanel.shared.directives").run(["$templateCache",function(e){e.put("liveops-config-panel-shared/filters/new.html",""),e.put("liveops-config-panel-shared/directives/autocomplete/autocomplete.html",'<div class="autocomplete-container">\n  <input\n    autocomplete="off"\n    name="{{nameField}}"\n    ng-required="isRequired"\n    type="text"\n    ng-model="currentText"\n    ng-focus="showSuggestions=true"\n    ng-blur="onBlur()"\n    placeholder="{{placeholder}}"\n    ng-keypress="($event.which === 13) ? onEnter() : 0"></input>\n    <i class="fa fa-search"></i>\n    <ul ng-class="{\'embeded\' : !hover}" ng-show="filtered.length > 0 && (showSuggestions || hovering)" ng-mouseover="hovering=true" ng-mouseout="hovering=false">\n      <li ng-class="{\'highlight\' : selectedItem == item}" ng-click="select(item)" ng-repeat="item in filtered = (items | filter:filterCriteria | orderBy:nameField)">{{item[nameField] || item.getDisplay()}}</li>\n    </ul>\n</div>\n'),e.put("liveops-config-panel-shared/directives/bulkActionExecutor/bulkActionExecutor.html",'<form id="bulk-action-form" name="bulkActionForm" class="details-pane" unsaved-changes-warning>\n  <i id="close-bulk-button" class="fa fa-remove remove" ng-click="closeBulk()"></i>\n  <div id="bulk-actions-selected-header" class="detail-header">\n    <filter-dropdown\n      label="{{\'bulkActions.selected\' | translate}}({{selectedItems().length}})"\n      options="selectedItems()"\n      display-path="getDisplay"\n      value-path="id">\n    </filter-dropdown>\n  </div>\n\n  <div class="detail-body">\n    <!-- bulkAction elements injected here -->\n  </div>\n\n  <div class="detail-controls">\n    <input id="cancel-bulk-actions-btn"\n      type="button"\n      class="btn"\n      ng-click="cancel()"\n      value="{{\'value.cancel\' | translate}}">\n    </input>\n    <input id="submit-bulk-actions-btn"\n      ng-disabled="!canExecute()"\n      type="button"\n      class="btn btn-primary"\n      ng-click="confirmExecute()"\n      value="{{\'value.submit\' | translate}}">\n  </div>\n</form>\n'),e.put("liveops-config-panel-shared/directives/dropdown/dropdown.html",'<div class="dropdown-wrapper">\n  <div class="drop-label" ng-class="{\'drop-origin\' : showDrop}" ng-click="dropClick()" ng-mouseenter="mouseIn()">\n    <div>\n      <span>{{label}}</span>\n      <i id="nav-dropdown-down-arrow" ng-show="showDrop" class="{{collapseIcon}} label-icon"></i>\n      <i ng-show="! showDrop" class="{{expandIcon}} label-icon"></i>\n    </div>\n  </div>\n\n  <div class="dropdown-container">\n    <div class="dropdown" ng-hide="! showDrop">\n      <ul>\n        <li id="{{item.id}}"\n          ng-repeat="item in items | orderBy:orderBy"\n          ng-click="optionClick(item.onClick)">\n            <span ng-if="! item.stateLink"><i class="{{item.iconClass}}"></i>{{item[displayPath]}}</span>\n            <a ng-if="item.stateLink" ui-sref="{{item.stateLink}}({{item.stateLinkParams}})"><i class="{{item.iconClass}}"></i>{{item[displayPath]}}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n'),e.put("liveops-config-panel-shared/directives/dropdown/filterDropdown.html",'<div class="dropdown-label" ng-click="showDrop = ! showDrop">\n  <span>{{label}}</span>\n  <div ng-if="showAll" class="all-label">\n    <span ng-if="all.checked"><span ng-if="label">:</span> All</span>\n    <span ng-if="!all.checked"><span ng-if="label">:</span> (...)</span>\n  </div>\n  <span><i class="fa" ng-class="{\'fa-caret-up\' : showDrop, \'fa-caret-down\' : ! showDrop}"></i></span>\n</div>\n\n<div class="dropdown-container">\n  <div class="dropdown filter-dropdown" ng-hide="! showDrop || options.length === 0">\n    <div class="all" ng-if="showAll" ng-click="all.checked = !all.checked">\n      <input type="checkbox" ng-checked="all.checked"/>\n      <label>All</label>\n    </div>\n    <div ng-repeat="option in options | orderBy:orderBy"\n      class="dropdown-option" ng-click="checkItem(option)" >\n      <input name="{{option | parse:valuePath | invoke:option}}" type="checkbox" ng-checked="option.checked"/>\n      <label for="{{option | parse:valuePath | invoke:option}}">\n        {{option | parse:displayPath | invoke:option}}\n      </label>\n    </div>\n  </div>\n</div>\n'),e.put("liveops-config-panel-shared/directives/formErrorTwo/formError.html",'<div class="lo-error" role="alert"\n  ng-if=\'form[fieldName].$touched && form[fieldName].$invalid\'\n  ng-messages="form[fieldName].$error">\n  <div ng-repeat="(error, value) in form[fieldName].$error" >\n    <span ng-message="{{error}}" ng-if="isString(value)">{{value}}</span>\n    <span ng-message="{{error}}" ng-if="value === true">{{errorTypes[error]}}</span>\n  </div>\n</div>\n'),e.put("liveops-config-panel-shared/directives/formError/formError.html",'<div class="lo-error" role="alert" ng-if=\'field.$touched && field.$invalid\' ng-messages="field.$error">\n  <div ng-repeat="(error, value) in field.$error" >\n    <span ng-message="{{error}}" ng-if="isString(value)">{{value}}</span>\n    <span ng-message="{{error}}" ng-if="value === true">{{errorTypes[error]}}</span>\n  </div>\n</div>\n'),e.put("liveops-config-panel-shared/directives/helpIcon/helpIcon.html",'<span class="fa-stack help-icon" ng-mouseenter="showTooltip()" ng-mouseleave="destroyTooltip()">\n  <i class="fa fa-circle-thin fa-stack-2x"></i>\n  <i class="fa fa-info fa-stack-1x"></i>\n</span>'),e.put("liveops-config-panel-shared/directives/loMultibox/loMultibox.html",'<div ng-class="{\'edit\': showDrop === true}">\n  <div class="label-container" ng-click="labelClick()" ng-hide="showDrop && !display">\n    <input type="text" name="{{name + \'-display\'}}"\n      placeholder="{{\'multibox.add.placeholder\' | translate}}"\n      readonly="true" border="0"  class="label"\n      ng-required="true"\n      ng-model="display" />\n    <i class="fa" ng-class="{\'fa-caret-down\': !showDrop, \'fa-caret-up\':showDrop}"></i>\n  </div>\n\n  <div class="edit-box" ng-show="showDrop">\n    <type-ahead\n      items="items"\n      placeholder="{{\'multibox.search.placeholder\' | translate}}"\n      on-select="onSelect(selectedItem)"\n      keep-expanded="true"\n      selected-item="selectedItem"></type-ahead>\n    <input id="show-create-new-item-btn" class="btn" type="button"\n      ng-click="createItem()" \n      value="{{\'multibox.create.btn\' | translate}}" />\n  </div>\n</div>\n'),e.put("liveops-config-panel-shared/directives/loading/loading.html",'<div class="loading"><i class="fa fa-refresh fa-spin"></i> {{\'loading\' | translate}}</div>\n'),e.put("liveops-config-panel-shared/directives/modal/modal.html",'<div id="modal" ng-include="modalBody">\n\n</div>'),e.put("liveops-config-panel-shared/directives/numberSlider/numberSlider.html",'<div class="number-slider inner-addon right">\n  <input type="text" ng-model="value" placeholder="{{placeholder}}"></input>\n  <i ng-mousedown="increment()" class="fa fa-caret-up top" ng-class="{disabled : value + 1 > maxValue}"></i>\n  <i ng-mousedown="decrement()" class="fa fa-caret-down bottom" ng-class="{disabled : value - 1 < minValue}"></i>\n</div>\n'),e.put("liveops-config-panel-shared/directives/resizeHandle/resizeHandle.html",'<div class="resizable-handle"><i class="fa fa-ellipsis-v"></i></div>'),e.put("liveops-config-panel-shared/directives/singleElementResizeHandle/singleElementResizeHandle.html",'<div class="resizable-handle"><i class="fa fa-ellipsis-v"></i></div>'),e.put("liveops-config-panel-shared/directives/toggle/toggle.html",'<label ng-show="trueValue && falseValue" class="switch switch-green" ng-switch on="confirmOnToggle">\n  <input name="{{name}}" ng-switch-when="true" confirm-toggle type="checkbox" class="switch-input" ng-model="$parent.ngModel" ng-true-value="\'{{trueValue}}\'" ng-false-value="\'{{falseValue}}\'" ng-disabled="ngDisabled">\n  <input name="{{name}}" ng-switch-default type="checkbox" class="switch-input" ng-model="$parent.ngModel" ng-true-value="\'{{trueValue}}\'" ng-false-value="\'{{falseValue}}\'" ng-disabled="ngDisabled">\n  <span class="switch-label" data-on="On" data-off="Off"></span>\n  <span class="switch-handle"></span>\n</label>\n\n<label class="switch switch-green" ng-show="!trueValue || !falseValue" ng-switch on="confirmOnToggle">\n  <input name="{{name}}" ng-switch-when="true" confirm-toggle type="checkbox" class="switch-input" ng-model="$parent.ngModel" ng-disabled="ngDisabled">\n  <input name="{{name}}" ng-switch-default type="checkbox" class="switch-input" ng-model="$parent.ngModel" ng-disabled="ngDisabled">\n  <span class="switch-label" data-on="On" data-off="Off"></span>\n  <span class="switch-handle"></span>\n</label>'),e.put("liveops-config-panel-shared/directives/tooltip/tooltip.html",'<div class="help-tooltip"><div class="tooltip-content" translate="{{translateValue}}">{{text}}</div><div class="tooltip-arrow"></div></div>'),e.put("liveops-config-panel-shared/directives/typeAhead/typeAhead.html",'<div class="typeahead-container">\n  <input\n    autocomplete="off"\n    placeholder="{{placeholder}}"\n    name="{{nameField}}"\n    id="typeahead-container"\n    type="text"\n    ng-model="currentText"\n    ng-focus="showSuggestions=true"\n    ng-blur="onBlur()"></input>\n    <i class="fa fa-search"></i>\n    <ul ng-show="filtered.length > 0 && (showSuggestions || hovering)" \n      ng-mouseover="hovering=true" \n      ng-mouseout="hovering=false">\n       <li ng-repeat="item in filtered = (items | filter:filterCriteria | orderBy:orderByFunction)"\n         ng-class="{\'highlight\' : highlightedItem == item}"  \n         ng-click="select(item)" >\n           {{item.getDisplay() || item[nameField]}}\n       </li>\n    </ul>\n</div>\n'),e.put("liveops-config-panel-shared/services/modal/confirmModal.html",'\n<div class="confirm">\n  <h3 class="header">{{title}}</h3>\n  <p>{{message}}</p>\n  \n  <div class="footer">\n    <a id="modal-cancel" class="btn" ng-click="cancelCallback()">{{\'value.cancel\' | translate}}</a>\n    <a ng-click="okCallback()" class="btn btn-primary" id="modal-ok">{{\'value.ok\' | translate}}</a>\n  </div>\n</div>'),e.put("liveops-config-panel-shared/directives/editField/dropDown/editField_DropDown.html",'<div class="edit-field edit-field-drop-down" ng-init="edit = false">\n  <ng-transclude></ng-transclude>\n  <div class="input-toggle">\n\n    <select ng-model="ngModel" ng-options="option for option in [\'Admin\', \'Agent\']" name={{name}} required="" ng-show="edit" ng-change="saveHandler()">\n      <option value="">{{defaultText}}</option>\n    </select>\n\n    <div ng-mouseover="hover=true" ng-mouseout="hover=false" ng-click="edit = true" title="Click to edit." ng-show="!edit">\n      <label ng-show="ngModel">{{ngModel}}</label>\n      <label class="placeholder" ng-show="!ngModel">Click to add value</label>\n      <i class="fa fa-pencil" ng-show="hover"></i>\n    </div>\n  </div>\n</div>'),e.put("liveops-config-panel-shared/directives/editField/input/editField_input.html",'<div class="edit-field edit-field-input" ng-init="edit = false">\n  <label>{{label}}</label>\n  <div class="input-toggle">\n    <input ng-model="ngModel" name="{{name}}" type="{{type ? type : \'text\'}}" required="" ng-show="edit" ng-keyup="$event.keyCode == 13 ? saveHandler($event) : null">\n    \n    <div ng-mouseover="hover=true" ng-mouseout="hover=false" ng-click="edit = true" title="Click to edit." ng-show="!edit">\n      <label ng-show="ngModel">{{ngModel}}</label>\n      <label class="placeholder" ng-show="!ngModel">{{placeholder ? placeholder : \'Click to add value\'}}</label>\n      <i class="fa fa-pencil" ng-show="hover"></i>\n    </div>\n  </div>\n</div>\n')}]),angular.module("liveopsConfigPanel.shared.directives").directive("loFormAlert",["$parse","Alert",function(e,n){return{restrict:"A",require:["loFormSubmit"],controller:function(){this.alertSuccess=function(e){var t=e.updated?"updated":"saved";n.success("Record "+t)},this.alertFailure=function(e){var t=e.updated?"update":"save";n.error("Record failed to "+t)}},link:function(e,n){e.$on("form:submit:success",function(e,t){var r=n.data("$loFormAlertController");r.alertSuccess(t)}),e.$on("form:submit:failure",function(e,t){var r=n.data("$loFormAlertController");r.alertFailure(t)})}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loFormCancel",["$parse","DirtyForms","$timeout","$rootScope",function(e,n,t,r){return{restrict:"A",require:["ngResource","form","^loDetailsPanel"],controller:function(o){var i=this;this.resetForm=function(){angular.forEach(i.formController,function(e,n){if(e&&e.hasOwnProperty("$modelValue")&&e.$invalid){var t=e.$modelValue;null===t&&(t=void 0),i.formController[n].$setViewValue(t),i.formController[n].$rollbackViewValue()}}),i.formController.$setPristine(),i.formController.$setUntouched()},this.cancel=function(){var a=e(this.ngResource)(o);a.isNew()||!this.formController.$dirty?this.loDetailsPanelController.close():n.confirmIfDirty(function(){r.$broadcast("cancel:resource:"+a.resourceName),a.reset(),t(function(){i.resetForm(i.formController)})})}},link:function(n,t,r,o){n.$watch(r.ngResource,function(o,i){i&&i.reset();var a=e(r.name)(n),s=t.data("$loFormCancelController");s.resetForm(a)});var i=t.data("$loFormCancelController");i.ngResource=r.ngResource,i.formController=o[1],i.loDetailsPanelController=o[2]}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loFormReset",[function(){return{restrict:"A",require:"form",controller:function(){var e=this;this.resetForm=function(){angular.forEach(e.formController,function(n,t){if(n&&n.hasOwnProperty("$modelValue")&&n.$invalid){var r=n.$modelValue;null===r&&(r=void 0),e.formController[t].$setViewValue(r),e.formController[t].$rollbackViewValue()}}),e.formController.$setPristine(),e.formController.$setUntouched()}},link:function(e,n,t,r){var o=n.data("$loFormResetController");o.formController=r}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loFormSubmit",["$parse",function(e){return{restrict:"A",require:"form",controller:function(n){var t=this;t.errorInputWatchesUnbinds={},this.populateApiErrors=function(r){return e("data.error")(r)&&angular.forEach(r.data.error.attribute,function(e,r){angular.isDefined(t.formController[r])&&(t.formController[r].$setValidity("api",!1),t.formController[r].$error={api:e},t.formController[r].$setTouched(),t.formController[r].$setPristine(),t.errorInputWatchesUnbinds[r]=n.$watch(function(){return t.formController[r].$dirty},function(e){e&&(t.formController[r].$setValidity("api",!0),t.errorInputWatchesUnbinds[r](),delete t.errorInputWatchesUnbinds[r])}))}),r}},link:function(e,n,t,r){var o=n.data("$loFormSubmitController");o.formController=r}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loSubmit",["$q","$parse",function(e,n){return{restrict:"A",require:["^loFormSubmit","?^loFormCancel","?^loFormAlert","?^loFormReset"],link:function(t,r,o,i){o.event=angular.isDefined(o.event)?o.event:"click";var a=i[0],s=i[1],l=i[2],u=i[3];r.bind(o.event,function(){var r=n(o.ngDisabled)(t);if(!r){var i=e.when(t.$eval(o.loSubmit));i=i.then(function(e){return s?s.resetForm():u&&u.resetForm(),e},function(n){var t=e.defer();return a.populateApiErrors(n),t.reject(n),t.promise}),i=i.then(function(e){l.alertSuccess(e)},function(e){l.alertFailure(e.config.data)}),t.$apply()}})}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("disableContents",[function(){return{compile:function(e,n){var t="input, button, select, textarea, label",r=e.find(t);angular.forEach(r,function(e){e=angular.element(e);var t=e.attr("ng-disabled");t=t?t+" || ":"",t+=n.disableContents,e.attr("ng-disabled",t)})}}}]),angular.module("liveopsConfigPanel.shared.directives").controller("DropdownController",["$scope","$document","$element",function(e,n,t){var r=this;e.showDrop=!1,this.setShowDrop=function(n){e.showDrop=n},e.$watch("showDrop",function(e,t){n.off("click",r.onClick),e&&!t&&n.on("click",r.onClick)}),this.onClick=function(o){var i=t.find(o.target).length>0;i||(e.$apply(function(){e.showDrop=!1,e.hovering=!1}),n.off("click",r.onClick))}}]),angular.module("liveopsConfigPanel.shared.directives").directive("dropdown",[function(){return{scope:{items:"=",label:"@",valuePath:"@",displayPath:"@",collapseIcon:"@",expandIcon:"@",orderBy:"@",hovering:"=?",hoverTracker:"=?",showOnHover:"="},templateUrl:"liveops-config-panel-shared/directives/dropdown/dropdown.html",controller:"DropdownController",link:function(e,n,t,r){e.valuePath=e.valuePath?e.valuePath:"value",e.displayPath=e.displayPath?e.displayPath:"label","undefined"!=typeof e.hovering&&e.hoverTracker&&e.hoverTracker.push(r),e.clearOtherHovers=function(){angular.forEach(e.hoverTracker,function(e){e!==r&&e.setShowDrop(!1)})},e.orderBy||(e.orderBy="label"),e.optionClick=function(n){e.showDrop=!1,e.hovering=!1,angular.isFunction(n)&&n()},e.collapseIcon||(e.collapseIcon="fa fa-caret-up"),e.expandIcon||(e.expandIcon="fa fa-caret-down"),e.mouseIn=function(){(e.hovering||e.showOnHover)&&(e.showDrop=!0,e.clearOtherHovers())},e.dropClick=function(){e.showDrop=!e.showDrop,e.hovering=!e.hovering}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("filterDropdown",[function(){return{scope:{id:"@",options:"=",valuePath:"@",displayPath:"@",label:"@",showAll:"@",orderBy:"@"},templateUrl:"liveops-config-panel-shared/directives/dropdown/filterDropdown.html",controller:"DropdownController",link:function(e,n){if(n.parent().css("overflow","visible"),e.valuePath=e.valuePath?e.valuePath:"value",e.displayPath=e.displayPath?e.displayPath:"display",e.checkItem=function(n){n.checked=!n.checked,e.$emit("dropdown:item:checked",n)},e.showAll){e.$watch("options",function(){var n=!1;angular.forEach(e.options,function(t){t.checked&&(n=!0,e.all.checked=!1)}),n||(e.all.checked=!0)},!0);var t=!0;angular.forEach(e.options,function(e){t=t&&e.checked}),e.all={checked:t},e.$watch("all.checked",function(){e.all.checked&&angular.forEach(e.options,function(e){e.checked=!1})})}else e.$watch("options",function(){angular.forEach(e.options,function(e){e.checked="undefined"==typeof e.checked?!0:e.checked})})}}}]),angular.module("liveopsConfigPanel.shared.directives").controller("EditFieldController",function(e){e.saveHandler=function(n){n&&n.target.blur(),e.$emit("editField:save",{objectId:e.objectId,fieldName:e.name,fieldValue:e.ngModel})},e.$on(e.name+":save",function(){e.edit=!1})}),angular.module("liveopsConfigPanel.shared.directives").directive("formErrorTwo",function(){return{templateUrl:"liveops-config-panel-shared/directives/formError/formError.html",require:"^form",scope:{fieldName:"@"},link:function(e,n,t,r){e.form=r,e.errorTypes={},angular.forEach(t.$attr,function(n,r){if(r.match(/errorType+/)){var o=r.replace(/errorType/,""),i=o.charAt(0);o=o.replace(/^\w/,i.toLowerCase()),t.$observe(r,function(n){e.errorTypes[o]=n})}}),e.isString=function(e){return angular.isString(e)}}}}),angular.module("liveopsConfigPanel.shared.directives").directive("formError",function(){return{templateUrl:"liveops-config-panel-shared/directives/formError/formError.html",scope:{field:"="},link:function(e,n,t){e.errorTypes={},angular.forEach(t.$attr,function(n,r){if(r.match(/errorType+/)){var o=r.replace(/errorType/,""),i=o.charAt(0);o=o.replace(/^\w/,i.toLowerCase()),e.errorTypes[o]=t[r],t.$observe(r,function(n){e.errorTypes[o]=n})}}),e.isString=function(e){return angular.isString(e)}}}}),angular.module("liveopsConfigPanel.shared.directives").directive("helpIcon",["$document","$compile",function(e,n){return{templateUrl:"liveops-config-panel-shared/directives/helpIcon/helpIcon.html",scope:{text:"@",translateValue:"@"},link:function(t,r){t.target=r;var o;t.showTooltip=function(){o=n('<tooltip target="target" text="{{text}}" translate-value="{{translateValue}}"></tooltip>')(t),e.find("body").append(o)},t.destroyTooltip=function(){o.remove()}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("highlightOnClick",["$window",function(e){return{restrict:"A",link:function(n,t){t.on("click",function(){e.getSelection().toString()||this.setSelectionRange(0,this.value.length)
})}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loMultibox",["$timeout",function(e){return{restrict:"E",scope:{items:"=",selectedItem:"=",resourceName:"@",name:"@",onItemSelect:"="},templateUrl:"liveops-config-panel-shared/directives/loMultibox/loMultibox.html",controller:"DropdownController",link:function(n,t,r,o){n.onSelect=function(e){angular.isString(e)||(n.display=e.getDisplay(),angular.isFunction(n.onItemSelect)&&n.onItemSelect(e),o.setShowDrop(!1),n.createMode=!1)},n.createItem=function(){n.$emit("resource:details:create:"+n.resourceName,n.selectedItem),n.createMode=!0},n.labelClick=function(){o.setShowDrop(!n.showDrop),n.selectedItem=null,n.showDrop&&e(function(){var e=t.find("type-ahead input");e.focus()})},n.$watch("selectedItem",function(e){angular.isString(e)||e&&angular.isFunction(e.getDisplay)&&(n.display=e.getDisplay())},!0),n.$on("resource:details:"+n.resourceName+":canceled",function(){n.createMode=!1}),n.$on("created:resource:"+n.resourceName,function(e,t){n.createMode&&n.onSelect(t)})}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loSubmitSpinner",[function(){return{scope:{loSubmitSpinnerStatus:"&"},link:function(e,n){e.spinnerElement=angular.element('<a disabled="true"><i class="fa fa-refresh fa-spin"></i></a>'),e.spinnerElement.addClass(n[0].className),e.spinnerElement.addClass("ng-hide"),n.after(e.spinnerElement),e.$watch("loSubmitSpinnerStatus()",function(t){angular.isDefined(t)&&(n.toggleClass("ng-hide",t),e.spinnerElement.toggleClass("ng-hide",!t))})}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loValidate",[function(){return{require:"ngModel",link:function(e,n,t,r){function o(){angular.extend(r.$disabledValidators,r.$validators),r.$validators={},angular.extend(r.$disabledFormatters,r.$formatters),r.$formatters={};for(var e in r.$disabledValidators)r.$setValidity(e,!0)}function i(){angular.extend(r.$validators,r.$disabledValidators),r.$disabledValidators={},angular.extend(r.$formatters,r.$disabledFormatters),r.$disabledFormatters={}}r.$disabledValidators={},r.$disabledFormatters={},e.$watch(t.loValidate,function(e){e?i():o()},!0)}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("loading",[function(){return{restrict:"E",templateUrl:"liveops-config-panel-shared/directives/loading/loading.html"}}]),angular.module("liveopsConfigPanel.shared.directives").directive("modal",[function(){return{restrict:"E",templateUrl:"liveops-config-panel-shared/directives/modal/modal.html"}}]),angular.module("liveopsConfigPanel.shared.directives").directive("ngResource",[function(){return{restrict:"A",controller:function(){}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("numberSlider",["$timeout",function(e){return{restrict:"E",scope:{value:"=",minValue:"@",maxValue:"@",hasHandles:"=",placeholder:"@",ngChanged:"&"},templateUrl:"liveops-config-panel-shared/directives/numberSlider/numberSlider.html",link:function(n,t){n.minValue=n.minValue?Number(n.minValue):null,n.maxValue=n.maxValue?Number(n.maxValue):null,n.$watch("value",function(){n.value&&("string"==typeof n.value&&(n.value=Number(n.value.replace(/[^0-9\\.\\-]/g,""))),null!==n.maxValue&&n.value>n.maxValue&&(n.value=n.maxValue),null!==n.minValue&&n.value<n.minValue&&(n.value=n.minValue),n.ngChanged(n.value))}),n.increment=function(){return n.value?void((null===n.maxValue||n.value<n.maxValue)&&(n.value=Number(n.value)+1,n.ngChanged())):(n.value=n.minValue?n.minValue:0,void n.ngChanged())},n.decrement=function(){return n.value?void((null===n.minValue||n.value>n.minValue)&&(n.value=Number(n.value)-1,n.ngChanged())):(n.value=n.minValue?n.minValue:0,void n.ngChanged())},t.find("input").bind("keydown keypress",function(t){40===t.which?(e(n.decrement),t.preventDefault()):38===t.which&&(e(n.increment),t.preventDefault())})}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("resizeHandle",["$window","$document","$rootScope","lodash",function(e,n,t,r){return{restrict:"E",scope:{leftElementId:"@",rightElementId:"@"},templateUrl:"liveops-config-panel-shared/directives/resizeHandle/resizeHandle.html",link:function(e,o){function i(n){var t=e.leftTargetElement[0].offsetWidth,r=e.rightTargetElement[0].offsetWidth,o=e.leftTargetElement[0].getBoundingClientRect(),i=o.left,a=n.pageX;a-=i,e.resizeElements(t,r,a)}o.addClass("resize-pane"),e.leftTargetElement=angular.element($("#"+e.leftElementId)),e.rightTargetElement=angular.element($("#"+e.rightElementId)),o.on("mousedown",function(t){2!==t.button&&(t.preventDefault(),n.on("mousemove",i),n.on("mouseup",e.mouseup))}),e.resizeElements=function(n,t,r){var o=n-r,i=n-o,a=t+o,s=parseInt(e.leftTargetElement.css("min-width")),l=parseInt(e.rightTargetElement.css("min-width"));if(!(l>a||s>i)){e.leftTargetElement.css("width",i+"px"),e.rightTargetElement.css("width",a+"px");var u={leftWidth:i,rightWidth:a};e.sendResizeEvent(u),e.applyClasses(u,e.leftTargetElement,"leftWidth"),e.applyClasses(u,e.rightTargetElement,"rightWidth")}},e.sendResizeEvent=r.throttle(function(e){t.$broadcast("resizehandle:resize",e)},500),e.applyClasses=function(e,n,t){e[t]>700?n.addClass("two-col"):n.removeClass("two-col"),e[t]<450?n.addClass("compact-view"):n.removeClass("compact-view")},e.mouseup=function(){n.unbind("mousemove",i),n.unbind("mouseup",e.mouseup)}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("scrollTable",[function(){return{restrict:"A",replace:"true",compile:function(e){e.removeAttr("scroll-table");var n=e.find("thead").height();0===n&&(n=35);var t=e.find("thead").clone(!0,!0);t.find("th").css("height",n+"px");var r=angular.element('<table class="clone-header">'+t[0].outerHTML+"</table>"),o=e[0].className;return r.addClass(o),e.find("thead").find("input").remove(),e.replaceWith('<div class="scrollable-table-container" style="padding-top:'+n+'px;">'+r[0].outerHTML+'<div class="table-wrapper"><div>'+e[0].outerHTML+"</div></div></div>"),function(e,t,r){r.maxHeight&&e.$watch(function(){return t.find("tbody").find("tr").length},function(e){if(e>0){var o=n*e;o<r.maxHeight?t.css("height",o+n+5+"px"):t.css("height",r.maxHeight+"px")}})}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("separateValidation",[function(){return{restrict:"A",require:"?form",link:function(e,n,t,r){if(r){var o=n.parent().controller("form");o&&o.$removeControl(r);var i={$setValidity:function(){r.$invalid=!1,angular.forEach(n.find("input"),function(e){if(r[e.name]&&r[e.name].$error)for(var n in r[e.name].$error)if(n&&r[e.name].$error[n]){r.$invalid=!0;break}})},$setDirty:function(){r.$dirty=!0},$setPristine:function(e){r.$pristine=e}};angular.extend(r,i)}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("singleElementResizeHandle",["$window","$document","$rootScope","lodash",function(e,n,t,r){return{restrict:"E",scope:{elementId:"@",minWidth:"@",maxWidth:"@"},templateUrl:"liveops-config-panel-shared/directives/singleElementResizeHandle/singleElementResizeHandle.html",link:function(o,i){function a(n){var t=o.targetElement[0].offsetWidth,r=n.pageX,i=e.innerWidth;o.resizeElement(t,i,r)}o.targetElement=angular.element(document.getElementById(o.elementId)),i.on("mousedown",function(){2!==event.button&&(event.preventDefault(),n.on("mousemove",a),n.on("mouseup",o.mouseup))}),o.applyClasses=function(e,n){e>700?n.addClass("two-col"):n.removeClass("two-col"),450>e?n.addClass("compact-view"):n.removeClass("compact-view")},o.mouseup=function(){n.unbind("mousemove",a),n.unbind("mouseup",o.mouseup)},o.sendResizeEvent=r.throttle(function(e){t.$broadcast("resizehandle:resize",e)},500),o.resizeElement=function(e,n,t){var r=n-t;r<o.minWidth||r>o.maxWidth||(o.targetElement.css("width",r+"px"),o.sendResizeEvent(r),o.applyClasses(r,o.targetElement))}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("confirmToggle",["Modal","$timeout",function(e,n){return{require:["ngModel","^toggle"],link:function(t,r,o,i){i[0].$parsers.push(function(e){return t.onToggle(e)}),t.onToggle=function(r){return n(function(){t.$parent.ngModel=r===t.trueValue?t.falseValue:t.trueValue}),e.showConfirm({message:r===t.trueValue?t.confirmEnableMessage:t.confirmDisableMessage}).then(function(){t.$parent.ngModel=r})}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("toggle",[function(){return{templateUrl:"liveops-config-panel-shared/directives/toggle/toggle.html",scope:{ngModel:"=",ngDisabled:"=",name:"@",trueValue:"@",falseValue:"@",confirmEnableMessage:"@",confirmDisableMessage:"@"},controller:function(e){angular.isUndefined(e.trueValue)&&(e.trueValue=!0),angular.isUndefined(e.falseValue)&&(e.falseValue=!1),angular.isDefined(e.confirmEnableMessage)&&angular.isDefined(e.confirmDisableMessage)&&(e.confirmOnToggle=!0)}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("tooltip",["$document","$timeout",function(e,n){return{templateUrl:"liveops-config-panel-shared/directives/tooltip/tooltip.html",scope:{text:"@",target:"=",translateValue:"@"},link:function(t,r){t.targetPosition=t.target.offset(),t.tooltipWidth=0,t.tooltipHeight=0,t.setPosition=function(){r.find("div").removeClass("top left right bottom"),t.tooltipWidth=r.outerWidth(),t.tooltipHeight=r.outerHeight();var e=t.getPositionClass(),n=t.getAbsolutePosition(e);r.find("div").addClass(e),r.css("left",n.left),r.css("top",n.top)},t.getPositionClass=function(){var n,r=e.width(),o=e.height(),i=t.targetPosition.top,a=t.targetPosition.left;return n=i-t.tooltipHeight<0?a-t.tooltipWidth<0?"bottom right":a+t.tooltipWidth>r?"bottom left":"bottom center":i+t.tooltipHeight>o?a-t.tooltipWidth<0?"top right":a+t.tooltipWidth>r?"top left":"top center":a-t.tooltipWidth<0?"center right":a+t.tooltipWidth>r?"center left":"top center"},t.getAbsolutePosition=function(e){var n=15,r=13,o=25,i=t.target.outerHeight(),a=t.target.outerWidth(),s=t.targetPosition.left,l=t.targetPosition.top;return e.indexOf("left")>-1&&(s+=-t.tooltipWidth-r),e.indexOf("right")>-1&&(s+=a+r),"bottom center"===e?(l+=i+n,s+=-((t.tooltipWidth-a)/2)):"top center"===e?(l+=-(t.tooltipHeight+n),s+=-((t.tooltipWidth-a)/2)):"top right"===e||"top left"===e?l+=-t.tooltipHeight+o:("center right"===e||"center left"===e)&&(l+=-(t.tooltipHeight/2)+i/2),{top:l,left:s}},n(t.setPosition,1)}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("typeAhead",["$filter","$timeout",function(e,n){return{restrict:"E",scope:{items:"=",nameField:"@",onSelect:"&",placeholder:"@",prefill:"=",keepExpanded:"=",onEnter:"&",filters:"=?",selectedItem:"=?"},templateUrl:"liveops-config-panel-shared/directives/typeAhead/typeAhead.html",controller:function(n){var t=this;n.currentText=n.prefill||"",this.defaultTextFilter=function(e,n){return e.getDisplay().toLowerCase().contains(n.toLowerCase())},n.filterCriteria=function(e){if(n.filterArray){for(var t=!0,r=0;r<n.filterArray.length;r++){var o=n.filterArray[r];t=t&&o.call(o,e,n.currentText,n.items)}return t}},n.$watch("filters",function(e){n.filterArray=[],e&&angular.isArray(e)?n.filterArray=angular.copy(e):e&&!angular.isArray(e)&&(n.filterArray=[e]),n.filterArray.push(t.defaultTextFilter)},!0),n.updateHighlight=function(){var t=e("filter")(n.items,n.filterCriteria,!0);if(""===n.currentText)n.highlightedItem=null,n.selectedItem=null;else if(t&&t.length>0){var r=t.indexOf(n.highlightedItem);0>r&&(n.highlightedItem=null,n.selectedItem=n.currentText),angular.isDefined(t[0].getDisplay)&&t[0].getDisplay()===n.currentText?(n.highlightedItem=t[0],n.selectedItem=t[0]):(n.highlightedItem=t[0],n.selectedItem=n.currentText)}else n.highlightedItem=null,n.selectedItem=n.currentText},n.$watch("currentText",function(){n.updateHighlight()}),n.$watch("selectedItem",function(e){null===e&&(n.currentText="")}),n.$watch("items",function(e){angular.isDefined(e)&&n.updateHighlight()},!0),n.select=function(e){angular.isString(e)||(n.currentText=angular.isDefined(e.getDisplay)?e.getDisplay():e[n.nameField]),n.selectedItem=e,n.onSelect({selectedItem:e}),n.keepExpanded||(n.hovering=!1,n.showSuggestions=!1)},n.onBlur=function(){n.keepExpanded||(n.showSuggestions=!1)},n.orderByFunction=function(e){var t=e.getDisplay();return t?t:e[n.nameField]}},link:function(e,t){t.find("input").bind("keydown keypress",function(r){var o;13===r.which?(n(function(){var n=e.highlightedItem?e.highlightedItem:e.currentText;e.select(n),e.onEnter({item:n})}),r.preventDefault()):40===r.which?(o=e.filtered.indexOf(e.highlightedItem),o+1<e.filtered.length&&n(function(){e.highlightedItem=e.filtered[o+1];var n=t.find("li:nth-child("+(o+2)+")");e.showListElement(n)})):38===r.which&&(o=e.filtered.indexOf(e.highlightedItem),o-1>=0&&n(function(){e.highlightedItem=e.filtered[o-1];var n=t.find("li:nth-child("+o+")");e.showListElement(n)}))}),e.showListElement=function(e){var n=e.get(0).offsetTop,r=e.get(0).offsetHeight,o=n+r,i=t.find("ul").get(0).offsetHeight,a=t.find("ul").get(0).scrollTop;o>a+i?t.find("ul").get(0).scrollTop=o-i:a>n&&(t.find("ul").get(0).scrollTop=n)}}}}]),angular.module("liveopsConfigPanel.shared.directives").directive("uuid",[function(){return{restrict:"A",require:"ngModel",link:function(e,n,t,r){r.$validators.uuid=function(e,n){return r.$isEmpty(e)?!0:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n)?!0:!1}}}}]),angular.module("liveopsConfigPanel.shared.filters").filter("hasPermission",["UserPermissions",function(e){return function(n){return angular.isArray(n)||(n=[n]),e.hasPermissionInList(n)}}]),angular.module("liveopsConfigPanel.shared.filters").filter("keysCount",[function(){return function(e){return Object.keys(e).length}}]),angular.module("liveopsConfigPanel.shared.filters").filter("matchesField",["$filter",function(e){return function(n,t,r){var o=function(n,t,r){if(!(angular.isUndefined(n)||angular.isUndefined(t)||""===t||angular.isUndefined(r))){var i=t.indexOf(":");if(i>-1){var a=t.substring(0,i),s=t.substring(i+1);return o(n[a],s,r)?n:void 0}if(angular.isArray(n)){for(var l=0;l<n.length;l++)if(n[l][t]===r)return n}else if(e("parse")(n,t)===r)return n}};return o(n,t,r)}}]),angular.module("liveopsConfigPanel.shared.filters").filter("objectNegation",function(){return function(e,n,t,r){var o=[];return angular.forEach(e,function(e){for(var i=!0,a=0;a<t.length;a++){var s=t[a];if(e[n]===s[r]){i=!1;break}}i&&o.push(e)}),o}}),angular.module("liveopsConfigPanel.shared.filters").filter("invoke",[function(){return function(e,n){return angular.isFunction(e)?e.call(n):e}}]),angular.module("liveopsConfigPanel.shared.filters").filter("parse",["$parse",function(e){return function(n,t){return e(t)(n)}}]),angular.module("liveopsConfigPanel.shared.filters").filter("search",["$parse",function(e){return function(n,t,r){function o(e){return e.replace(/([.+?^=!:${}()|\[\]\/\\])/g,"\\$1"),e.replace(/([*])/g,".*")}if(!t||!r)return n;var i=function(n,t){var r=[],o=e(n.path),a=o(t);return"string"==typeof a?r=[a]:"object"==typeof a&&angular.forEach(o(t),function(e){r="inner"in n?r.concat(i(n.inner,e)):[e]}),r},a=[];return angular.forEach(n,function(n){var s=new RegExp(o(r),"i"),l="";angular.forEach(t,function(t){"string"==typeof t?l+=e(t)(n)+" ":"object"==typeof t&&(l+=i(t,n).join(" ")+" ")}),s.test(l)&&a.push(n)}),a}}]),angular.module("liveopsConfigPanel.shared.filters").filter("selectedOptions",["$filter",function(e){return function(n,t){var r=[],o=e("invoke")(t.options);return angular.forEach(n,function(n){var i=!1;angular.forEach(o,function(o){var a=e("invoke")(o.value,o);!i&&o.checked&&e("matchesField")(n,t.name,a)&&(r.push(n),i=!0)})}),r}}]),angular.module("liveopsConfigPanel.shared.filters").filter("selectedTableOptions",["$parse","$filter",function(e,n){return function(t,r){var o=[];if(angular.isUndefined(t))return o;for(var i=!0,a=0;a<t.length;a++){for(var s=t[a],l=!0,u=0;u<r.length;u++){var d=!0,c=r[u];if(e("header.options")(c)){for(var p=c.lookup?c.lookup:c.name,f=n("invoke")(c.header.options),m=0;m<f.length;m++){var h=f[m];if(i=i&&!h.checked,h.checked){var g=e(c.header.valuePath?c.header.valuePath:"value"),v=n("invoke")(g(h),h);if(n("matchesField")(s,p,v)){d=!0;break}d=!1}}l=l&&d}}l&&o.push(s)}return i?t:o}}]),angular.module("liveopsConfigPanel.shared.services").service("Alert",["toastr","$window",function(e,n){this.confirm=function(e,t,r){n.confirm(e)?t&&t():r&&r()},this.warning=function(){e.warning.apply(this,arguments)},this.success=function(){e.success.apply(this,arguments)},this.error=function(){e.error.apply(this,arguments)},this.info=function(){e.info.apply(this,arguments)}}]),angular.module("liveopsConfigPanel.shared.services").service("Session",["$rootScope","sessionKey","preferenceKey","$translate","$filter",function(e,n,t,r,o){var i=this;this.userSessionKey=n,this.userPreferenceKey=t,this.token=null,this.user=null,this.lang=null,this.tenants=null,this.tenant=null,this.activeRegionId=null,this.columnPreferences={},this.platformPermissions=null,this.set=function(e,n,t,r){this.token=t,this.setUser(e),this.setTenants(n),this.setPlatformPermissions(r),this.flush()},this.setTenants=function(e){if(this.tenants=e&&e.length>0?e:[{tenantId:"",name:r.instant("session.tenants.none")}],this.tenant){var n=o("filter")(this.tenants,{tenantId:this.tenant.tenantId});this.tenant=n.length>0?n[0]:this.tenants[0]}else this.tenant=this.tenants[0];this.flush()},this.setUser=function(e){this.user={id:e.id,displayName:e.getDisplay(),email:e.email},this.flush()},this.setToken=function(e){this.token=e,this.flush()},this.setPlatformPermissions=function(e){this.platformPermissions=e,this.flush()},this.setColumnPreferences=function(e){this.columnPreferences=e,this.flush()},this.destroy=function(){this.token=null,this.user=null,this.tenants=null,this.platformPermissions=null,localStorage.removeItem(this.userSessionKey)},this.setTenant=function(e){i.tenant={tenantId:e.tenantId,tenantName:e.tenantName,tenantPermissions:e.tenantPermissions},i.flush()},this.destroyAll=function(){this.destroy(),this.activeRegionId=null,this.lang="en",this.tenant=null,localStorage.removeItem(this.userPreferenceKey)},this.restore=function(){angular.extend(this,JSON.parse(localStorage.getItem(this.userSessionKey))),angular.extend(this,JSON.parse(localStorage.getItem(this.userPreferenceKey)))},this.isAuthenticated=function(){return this.token?this.token.indexOf("Token")<0:!1},this.flush=function(){localStorage.setItem(i.userSessionKey,JSON.stringify({token:i.token,user:i.user,tenants:i.tenants,platformPermissions:i.platformPermissions})),localStorage.setItem(i.userPreferenceKey,JSON.stringify({lang:i.lang,activeRegionId:i.activeRegionId,tenant:i.tenant,columnPreferences:i.columnPreferences}))},this.restore()}]),angular.module("liveopsConfigPanel.shared.services").service("cacheAddInterceptor",["queryCache",function(e){this.response=function(n){var t=Object.getPrototypeOf(n.resource),r=n.resource.cacheKey?n.resource.cacheKey():t.resourceName;return e.get(r)||e.put(r,[]),e.get(r).push(n.resource),n.resource}}]),angular.module("liveopsConfigPanel.shared.services").service("cacheRemoveInterceptor",["queryCache",function(e){this.response=function(n){var t=Object.getPrototypeOf(n.resource),r=n.resource.cacheKey?n.resource.cacheKey():t.resourceName;return e.get(r)&&e.get(r).removeItem(n.resource),n.resource}}]),angular.module("liveopsConfigPanel.shared.services").service("emitInterceptor",["$rootScope","$q","$location","apiHostname",function(e,n,t,r){this.response=function(n){var t=n.config.url.replace(r+"/v1",""),o=t.replace(/\//g,":"),i=Object.getPrototypeOf(n.resource);return 201===n.status?(e.$broadcast("created:resource:"+i.resourceName,n.resource),e.$broadcast("created:resource"+o,n.resource)):200===n.status&&(o=o.replace(/:[-\w]+$/,""),e.$broadcast("updated:resource:"+i.resourceName,n.resource),e.$broadcast("updated:resource"+o,n.resource)),n.resource}}]),angular.module("liveopsConfigPanel.shared.services").factory("LiveopsResourceFactory",["$http","$resource","$q","queryCache","lodash",function(e,n,t,r,o){function i(e){return e.result?e.result:e}function a(e,n){return o.startsWith(e,"$")?void 0:n}function s(e){if(angular.isArray(e)){var n=function(n){return angular.forEach(e,function(e){e.response(n)}),n.resource},t={response:n};return t}return e}function l(e,n){return o.startsWith(e,"$")?void 0:n}return{create:function(t){function u(e){var n=angular.copy(e);return angular.forEach(n,function(e,r){var i=o.findIndex(t.updateFields,{name:r});(0>i||null===e&&t.updateFields[i].optional)&&delete n[r]}),n}function d(e){var n=u(e);return JSON.stringify(n,l)}function c(e){return JSON.stringify(e,a)}t.requestUrlFields=angular.isDefined(t.requestUrlFields)?t.requestUrlFields:{id:"@id",tenantId:"@tenantId",groupId:"@groupId",flowId:"@flowId",queueId:"@queueId",userId:"@userId",memberId:"@memberId"};var p=Array.prototype.concat(e.defaults.transformResponse,i),f=t.getRequestTransformer,m=t.getResponseTransformer?Array.prototype.concat(t.getResponseTransformer,p):p,h=t.queryRequestTransformer,g=t.queryResponseTransformer?Array.prototype.concat(t.queryResponseTransformer,p):p,v=t.putRequestTransformer?Array.prototype.concat(t.putRequestTransformer,d):d,I=t.putResponseTransformer?Array.prototype.concat(t.putRequestTransformer,p):p,y=t.postRequestTransformer?Array.prototype.concat(t.postRequestTransformer,c):c,w=t.postResponseTransformer?Array.prototype.concat(t.postResponseTransformer,p):p,k=t.deleteRequestTransformer,C=t.deleteResponseTransformer?Array.prototype.concat(t.deleteResponseTransformer,p):p,b={"Content-Type":"application/json"},P=n(t.endpoint,t.requestUrlFields,{query:{method:"GET",isArray:!0,headers:b,transformRequest:h,transformResponse:g,interceptor:s(t.queryInterceptor)},get:{method:"GET",headers:b,transformRequest:f,transformResponse:m,interceptor:s(t.getInterceptor)},update:{method:"PUT",headers:b,transformRequest:v,transformResponse:I,interceptor:s(t.updateInterceptor)},save:{method:"POST",headers:b,transformRequest:y,transformResponse:w,interceptor:s(t.saveInterceptor)},"delete":{method:"DELETE",headers:b,transformRequest:k,transformResponse:C,interceptor:s(t.saveInterceptor)}});P.prototype.resourceName=t.resourceName,P.prototype.$$backupSudoProperties=function(){var e={};return angular.forEach(this,function(n,t){t.match(/^\$[^$].*/g)&&!angular.isFunction(n)&&["$original","$busy","$resolved"].indexOf(t)<0&&(e[t]=n)}),e},P.prototype.$$restoreSudoProperties=function(e,n){angular.forEach(n,function(n,t){e[t]?angular.isObject(n)&&angular.extend(e[t],n):e[t]=n})};var $=P.get;P.get=function(e,n,t){var r=$.call(this,e,n,t);return r.$promise.then(function(e){return e.$original=angular.copy(e),e}),r};var E=P.query;P.query=function(e,n,t){var r=E.call(this,e,n,t);return r.$promise.then(function(e){return angular.forEach(e,function(e){e.$original=angular.copy(e)}),e}),r};var T=P.prototype.$save;P.prototype.$save=function(e,n,t){var r=T.call(this,e,n,t);return r.then(function(e){return e.$original=angular.copy(e),e}),r};var S=P.prototype.$update;return P.prototype.$update=function(e,n,t){var r=S.call(this,e,n,t);return r.then(function(e){return e.$original=angular.copy(e),e}),r},P.cachedGet=function(e,n,t){var i=n?n:this.prototype.resourceName,a=r.get(i);(!a||t)&&(r.put(i,[]),a=r.get(i));var s=o.find(a,e);if(!s){s=this.get(e);for(var l in e)s[l]=e[l];a.push(s)}return s},P.cachedQuery=function(e,n,t){var o=n?n:this.prototype.resourceName;if(!r.get(o)||t){var i=this.query(e);return r.put(o,i),i}return r.get(o)},P.prototype.save=function(e,n,t){var r=this,o=this.isNew()?this.$save:this.$update;r.$busy=!0;var i=this.$$backupSudoProperties();return o.call(r,e,n,t).then(function(e){return r.$original=angular.copy(e),r.$original&&r.$original.$original&&delete r.$original.$original,r.$$restoreSudoProperties(e,i),e})["finally"](function(){r.$busy=!1})},P.prototype.reset=function(){for(var e in this.$original)e.match(/^\$.*/g)||angular.isFunction(this.$original[e])||(this[e]=angular.copy(this.$original[e]))},P.prototype.getDisplay=function(){return this.toString()},P.prototype.isNew=function(){return!(this.hasOwnProperty("created")||angular.isDefined(this.id))},P.prototype.$busy=!1,P}}}]),angular.module("liveopsConfigPanel.shared.services").factory("queryCache",["$cacheFactory",function(e){return e("queryCache")}]),angular.module("liveopsConfigPanel.shared.services").service("Modal",["$document","$rootScope","$compile","$q",function(e,n,t,r){var o=this;this.showConfirm=function(i){var a={title:"",message:"",okCallback:angular.noop,cancelCallback:angular.noop},s=r.defer(),l=angular.extend(a,i),u=n.$new();u.modalBody="liveops-config-panel-shared/services/modal/confirmModal.html",u.title=l.title,u.message=l.message,u.okCallback=function(){o.close(),s.resolve("true"),l.okCallback()},u.cancelCallback=function(){o.close(),s.reject("false"),l.cancelCallback()};var d=t("<modal></modal>")(u);return e.find("body").append(d),s.promise},this.close=function(){e.find("modal").remove()}}]),angular.module("liveopsConfigPanel.shared.directives").directive("editFieldDropDown",function(){return{restrict:"E",transclude:!0,templateUrl:"liveops-config-panel-shared/directives/editField/dropDown/editField_DropDown.html",scope:{ngModel:"=",save:"=",objectId:"=",defaultText:"@",name:"@",label:"@",placeholder:"@"},controller:"EditFieldController"}}),angular.module("liveopsConfigPanel.shared.directives").directive("editField",function(){return{restrict:"E",templateUrl:"liveops-config-panel-shared/directives/editField/input/editField_input.html",scope:{ngModel:"=",save:"=",objectId:"=",name:"@",label:"@",type:"@",placeholder:"@"},controller:"EditFieldController"}}),angular.module("liveopsConfigPanel.shared.directives").directive("validateCount",[function(){return{restrict:"A",require:"ngModel",link:function(e,n,t,r){e.$watchCollection(t.ngModel,function(e){e?r.$setValidity(t.name,!!e.length):r.$setValidity(t.name,!1)})}}}]),angular.module("liveopsConfigPanel.tenant.mock",["liveopsConfigPanel.mock"]).service("mockTenants",function(e){return[new e({id:"tenant-id"}),new e({id:"tenant-id-2"})]}).run(["$httpBackend","apiHostname","mockTenants",function(e,n,t){e.when("GET",n+"/v1/tenants/tenant-id").respond({result:t[0]}),e.when("GET",n+"/v1/tenants/tenant-id-2").respond({result:t[1]}),e.when("GET",n+"/v1/tenants?regionId=regionId1").respond({result:t}),e.when("GET",n+"/v1/tenants/tenant-id-0").respond(404)}]),angular.module("liveopsConfigPanel.shared.services").factory("Tenant",["LiveopsResourceFactory","apiHostname","emitInterceptor","queryCache","cacheAddInterceptor",function(e,n,t,r,o){var i=e.create({endpoint:n+"/v1/tenants/:id",resourceName:"Tenant",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"active"},{name:"adminUserId"}],saveInterceptor:[t,o],updateInterceptor:t});i.prototype.getDisplay=function(){return this.name};var a=i;return i.prototype.getAsArray=function(e){var n=r.get(e+"arr");if(!n){var t=a.get({id:e}),o=[t];return o.$promise=t.$promise,o.$resolved=!0,r.put(e+"arr",o),o}return n},i}]),angular.module("liveopsConfigPanel.shared.services").factory("User",["LiveopsResourceFactory","apiHostname","cacheAddInterceptor","emitInterceptor","userUpdateTransformer",function(e,n,t,r,o){var i=e.create({endpoint:n+"/v1/users/:id",resourceName:"User",updateFields:[{name:"firstName",optional:!0},{name:"lastName",optional:!0},{name:"password"},{name:"externalId",optional:!0},{name:"personalTelephone",optional:!0}],saveInterceptor:[t,r],updateInterceptor:r,putRequestTransformer:o});return i.prototype.getDisplay=function(){if(this.firstName||this.lastName){var e=(this.firstName?this.firstName:"")+" "+(this.lastName?this.lastName:"");return e.trim()}return this.email},i}]).service("userUpdateTransformer",["Session",function(e){return function(n){return e.isAuthenticated()&&n.id!==e.user.id||(delete n.status,delete n.roleId),n}}]),angular.module("liveopsConfigPanel.user.mock",["liveopsConfigPanel.mock"]).service("mockUsers",function(e){return[new e({id:"userId1",status:"disabled",externalId:73795,lastName:"Lowe",firstName:"Munoz",email:"munoz.lowe@hivedom.org"}),new e({id:"userId2",status:"enabled",externalId:80232,lastName:"Oliver",firstName:"Michael",email:"michael.oliver@ezent.io"}),new e({id:"userId100",status:"enabled",externalId:80233,lastName:"Moon",firstName:"Jackie",email:"jackie.moon@liveops.com",displayName:"Jackie Moon"})]}).run(["$httpBackend","apiHostname","mockUsers",function(e,n,t){e.when("GET",n+"/v1/users/userId1?tenantId=tenant-id").respond({result:t[0]}),e.when("GET",n+"/v1/users/userId2?tenantId=tenant-id").respond({result:t[1]}),e.when("GET",n+"/v1/users/userId100?tenantId=tenant-id").respond({result:t[2]}),e.when("GET",n+"/v1/users?tenantId=tenant-id").respond({result:t}),e.when("GET",n+"/v1/users").respond({result:[t[0],t[1]]}),e.when("GET",n+"/v1/users/userId0?tenantId=tenant-id").respond(404),e.when("POST",n+"/v1/users").respond(t[2])}]),angular.module("liveopsConfigPanel.shared.services").factory("DispatchMapping",["LiveopsResourceFactory","apiHostname","emitInterceptor","cacheAddInterceptor",function(e,n,t,r){var o=e.create({endpoint:n+"/v1/tenants/:tenantId/dispatch-mappings/:id",resourceName:"DispatchMapping",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"value",optional:!0},{name:"flowId",optional:!0},{name:"channelType",optional:!0},{name:"interactionField",optional:!0},{name:"active",optional:!0}],saveInterceptor:[t,r],updateInterceptor:t});return o.prototype.getDisplay=function(){return this.name},o}]),angular.module("liveopsConfigPanel.tenant.flow.mock",["liveopsConfigPanel.mock"]).service("mockFlows",function(e){return[new e({name:"f1",tenantId:"tenant-id",description:"A pretty good flow",id:"flowId1"}),new e({name:"f2",tenantId:"tenant-id",description:"Not as cool as the other flow",id:"flowId2"}),new e({name:"f3",tenantId:"tenant-id",description:"Das flow",id:"flowId3"})]}).run(["$httpBackend","apiHostname","mockFlows","Session",function(e,n,t,r){e.when("GET",n+"/v1/tenants/"+r.tenant.tenantId+"/flows/"+t[0].id).respond({result:t[0]}),e.when("GET",n+"/v1/tenants/"+r.tenant.tenantId+"/flows/"+t[1].id).respond({result:t[1]}),e.when("GET",n+"/v1/tenants/"+r.tenant.tenantId+"/flows").respond({result:t}),e.when("POST",n+"/v1/tenants/"+r.tenant.tenantId+"/flows").respond({result:t[2]})}]),angular.module("liveopsConfigPanel.shared.services").factory("Flow",["LiveopsResourceFactory","apiHostname","emitInterceptor","cacheAddInterceptor",function(e,n,t,r){var o=e.create({endpoint:n+"/v1/tenants/:tenantId/flows/:id",resourceName:"Flow",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"activeVersion"},{name:"channelType",optional:!0},{name:"type"},{name:"active"}],saveInterceptor:[t,r],updateInterceptor:t});return o.prototype.getDisplay=function(){return this.name},o}]),angular.module("liveopsConfigPanel.tenant.group.mock",["liveopsConfigPanel.mock"]).service("mockGroups",function(e){return[new e({id:"groupId1",name:"groupName1",tenantId:"tenant-id"}),new e({id:"groupId2",name:"groupName2",tenantId:"tenant-id"}),new e({id:"groupId3",name:"groupName3",tenantId:"tenant-id"}),new e({id:"groupId100",name:"groupName100",description:"Does not exist yet!",tenantId:"tenant-id"})]}).run(["$httpBackend","apiHostname","mockGroups",function(e,n,t){e.when("GET",n+"/v1/tenants/tenant-id/groups/groupId1").respond({result:t[0]}),e.when("GET",n+"/v1/tenants/tenant-id/groups/groupId2").respond({result:t[1]}),e.when("GET",n+"/v1/tenants/tenant-id/groups/groupId3").respond({result:t[2]}),e.when("GET",n+"/v1/tenants/tenant-id/groups").respond({result:[t[0],t[1],t[2]]}),e.when("POST",n+"/v1/tenants/tenant-id/groups").respond({result:t[3]}),e.when("GET",n+"/v1/groups/groupId0").respond(404)}]),angular.module("liveopsConfigPanel.shared.services").factory("Group",["LiveopsResourceFactory","apiHostname","cacheAddInterceptor","emitInterceptor",function(e,n,t,r){var o=e.create({endpoint:n+"/v1/tenants/:tenantId/groups/:id",resourceName:"Group",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"owner"},{name:"active",optional:!0}],saveInterceptor:[t,r],updateInterceptor:r});
return o.prototype.getDisplay=function(){return this.name},o}]),angular.module("liveopsConfigPanel.shared.services").factory("Integration",["LiveopsResourceFactory","apiHostname","emitInterceptor",function(e,n,t){var r=e.create({endpoint:n+"/v1/tenants/:tenantId/integrations/:id",resourceName:"Integration",updateFields:[{name:"properties"},{name:"accountSid"},{name:"authToken"},{name:"webRtc"},{name:"active"}],updateInterceptor:t});return r.prototype.getDisplay=function(){return this.type},r}]),angular.module("liveopsConfigPanel.tenant.integration.mock",["liveopsConfigPanel.mock"]).service("mockIntegrations",function(e){return[new e({id:"integrationId1"}),new e({id:"integrationId2"})]}).run(["$httpBackend","apiHostname","mockIntegrations",function(e,n,t){e.when("GET",n+"/v1/tenants/tenant-id/integrations").respond({result:t}),e.when("GET",n+"/v1/tenants/tenant-id/integrations/integrationId1").respond({result:t[0]}),e.when("GET",n+"/v1/tenants/tenant-id/integrations/integrationId2").respond({result:t[1]})}]),angular.module("liveopsConfigPanel.shared.services").factory("ListType",["LiveopsResourceFactory","apiHostname","emitInterceptor","queryCache","cacheAddInterceptor",function(e,n,t,r,o){var i=e.create({endpoint:n+"/v1/tenants/:tenantId/list-types/:id",resourceName:"ListType",updateFields:[{name:"name"},{name:"description",optional:!0},,{name:"items"}],saveInterceptor:[t,o],updateInterceptor:t});return i.prototype.getDisplay=function(){return this.name},i}]),angular.module("liveopsConfigPanel.shared.services").factory("List",["LiveopsResourceFactory","apiHostname","emitInterceptor","queryCache","cacheAddInterceptor",function(e,n,t,r,o){var i=e.create({endpoint:n+"/v1/tenants/:tenantId/lists/:id",resourceName:"List",updateFields:[{name:"name"},{name:"description",optional:!0},,{name:"items"}],saveInterceptor:[t,o],updateInterceptor:t});return i.prototype.getDisplay=function(){return this.name},i}]),angular.module("liveopsConfigPanel.tenant.media.mock",["liveopsConfigPanel.mock"]).value("medias",[{id:"m1"},{id:"m2"}]).run(function(e,n,t,r){e.when("GET",n+"/v1/tenants/"+t.tenant.tenantId+"/media").respond({result:r})}),angular.module("liveopsConfigPanel.shared.services").factory("Media",["LiveopsResourceFactory","apiHostname","cacheAddInterceptor","emitInterceptor",function(e,n,t,r){var o=e.create({endpoint:n+"/v1/tenants/:tenantId/media/:id",resourceName:"Media",updateFields:[{name:"name"},{name:"source"},{name:"type"},{name:"properties",optional:!0}],saveInterceptor:[t,r]});return o.prototype.getDisplay=function(){return this.name},o}]),angular.module("liveopsConfigPanel.tenant.mediaCollection.mock",["liveopsConfigPanel.mock"]).service("mockMediaCollections",function(e){return[new e({id:"mc1"}),new e({id:"mc2"})]}).service("mockMedias",function(e){return[new e({id:"m1"}),new e({id:"m2"})]}).run(function(e,n,t,r,o){t.tenant={tenantId:"1"},e.when("GET",n+"/v1/tenants/1/media").respond(200,r),e.when("GET",n+"/v1/tenants/1/media-collections").respond(200,o),e.when("GET",n+"/v1/tenants/2/media").respond(200,r),e.when("GET",n+"/v1/tenants/2/media-collections").respond(200,o),e.when("GET",n+"/v1/tenants/3/media").respond(200,[]),e.when("GET",n+"/v1/tenants/3/media-collections").respond(200,[])}),angular.module("liveopsConfigPanel.shared.services").factory("MediaCollection",["LiveopsResourceFactory","apiHostname","cacheAddInterceptor","emitInterceptor","mediaCollectionMapCleanTransformer",function(e,n,t,r,o){var i=e.create({endpoint:n+"/v1/tenants/:tenantId/media-collections/:id",resourceName:"MediaCollection",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"mediaMap",optional:!0},{name:"defaultMediaKey",optional:!0}],saveInterceptor:[t,r],putRequestTransformer:o});return i}]),angular.module("liveopsConfigPanel.shared.services").factory("Queue",["LiveopsResourceFactory","apiHostname","emitInterceptor","cacheAddInterceptor",function(e,n,t,r){var o=e.create({endpoint:n+"/v1/tenants/:tenantId/queues/:id",resourceName:"Queue",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"activeVersion",optional:!0},{name:"active"}],saveInterceptor:[t,r],updateInterceptor:t});return o.prototype.getDisplay=function(){return this.name},o}]),angular.module("liveopsConfigPanel.tenant.queue.mock",["liveopsConfigPanel.mock"]).service("mockQueues",["Queue",function(e){return[new e({name:"q1",tenantId:"tenant-id",description:"A pretty good queue",id:"queueId1"}),new e({name:"q2",tenantId:"tenant-id",description:"Not as cool as the other queue",id:"queueId2"}),new e({name:"f3",tenantId:"tenant-id",description:"Das queue",id:"queueId3"})]}]).run(["$httpBackend","apiHostname","mockQueues","Session",function(e,n,t,r){e.when("GET",n+"/v1/tenants/"+r.tenant.tenantId+"/queues/"+t[0].id).respond({result:t[0]}),e.when("GET",n+"/v1/tenants/"+r.tenant.tenantId+"/queues/"+t[1].id).respond({result:t[1]}),e.when("GET",n+"/v1/tenants/"+r.tenant.tenantId+"/queues").respond({result:t}),e.when("POST",n+"/v1/tenants/"+r.tenant.tenantId+"/queues").respond({result:t[2]})}]),angular.module("liveopsConfigPanel.tenant.skill.mock",["liveopsConfigPanel.mock"]).service("mockSkills",function(e){return[new e({id:"skillId1",name:"skillName1",tenantId:"tenant-id",hasProficiency:!0}),new e({id:"skillId2",name:"skillName2",tenantId:"tenant-id",hasProficiency:!1}),new e({id:"skillId3",name:"skillName3",description:"Does not exist yet!",tenantId:"tenant-id",hasProficiency:!1})]}).service("mockUserSkills",function(e){return[new e({skillId:"skillId1",tenantId:"tenant-id",userId:"userId1",proficiency:0}),new e({skillId:"skillId1",tenantId:"tenant-id",userId:"userId2",proficiency:5}),new e({skillId:"skillId2",tenantId:"tenant-id",userId:"userId1",proficiency:8}),new e({skillId:"skillId3",tenantId:"tenant-id",userId:"userId2",proficiency:10})]}).service("mockSkillUsers",function(e){return[new e({userId:"userId1",proficiency:0}),new e({userId:"userId2",proficiency:5}),new e({userId:"userId1",proficiency:8}),new e({userId:"userId2",proficiency:10})]}).run(["$httpBackend","apiHostname","mockSkills","mockUserSkills","mockSkillUsers",function(e,n,t,r,o){e.when("GET",n+"/v1/tenants/tenant-id/skills").respond({result:[t[0],t[1]]}),e.when("GET",n+"/v1/tenants/tenant-id/skills/skillId1").respond({result:t[0]}),e.when("GET",n+"/v1/tenants/tenant-id/skills/skillId2").respond({result:t[1]}),e.when("GET",n+"/v1/tenants/tenant-id/users/userId1/skills").respond({result:[r[0],r[2]]}),e.when("GET",n+"/v1/tenants/tenant-id/users/userId2/skills").respond({result:[r[1]]}),e.when("GET",n+"/v1/tenants/tenant-id/skills/skillId1/users").respond({result:[o[0],o[1]]}),e.when("GET",n+"/v1/tenants/tenant-id/skills/skillId2/users").respond({result:[o[2]]}),e.when("POST",n+"/v1/tenants/tenant-id/skills").respond({result:t[2]}),e.when("POST",n+"/v1/tenants/tenant-id/users/userId1/skills").respond({result:r[2]}),e.when("DELETE",n+"/v1/tenants/tenant-id/users/userId1/skills/skillId1").respond(200),e.when("PUT",n+"/v1/tenants/tenant-id/users/userId1/skills/skillId1").respond({result:r[0]})}]),angular.module("liveopsConfigPanel.shared.services").factory("Skill",["LiveopsResourceFactory","apiHostname","cacheAddInterceptor","emitInterceptor",function(e,n,t,r){var o=e.create({endpoint:n+"/v1/tenants/:tenantId/skills/:id",resourceName:"Skill",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"hasProficiency"},{name:"active",optional:!0}],saveInterceptor:[t,r],updateInterceptor:r});return o.prototype.getDisplay=function(){return this.name},o}]),angular.module("liveopsConfigPanel.tenant.permission.mock",["liveopsConfigPanel.mock"]).service("mockTenantPermissions",function(e){return[new e({id:"permissionId1",name:"PERMISSION_1",tenantId:"tenant-id"}),new e({id:"permissionId2",name:"PERMISSION_2",tenantId:"tenant-id"}),new e({id:"permissionId3",name:"PERMISSION_3",tenantId:"tenant-id"})]}).run(["$httpBackend","apiHostname","mockTenantPermissions",function(e,n,t){e.when("GET",n+"/v1/tenants/tenant-id/permissions").respond({result:[t[0],t[1]]}),e.when("GET",n+"/v1/tenants/tenant-id/permissionId1").respond({result:t[0]}),e.when("GET",n+"/v1/tenants/tenant-id/permissionId2").respond({result:t[1]}),e.when("GET",n+"/v1/tenants/tenant-id/permissionId3").respond({result:t[2]})}]).service("mockPlatformPermissions",function(e){return[new e({id:"permissionId1",name:"PLATFORM_PERMISSION_1"}),new e({id:"permissionId2",name:"PLATFORM_PERMISSION_1"})]}).run(["$httpBackend","apiHostname","mockPlatformPermissions",function(e,n,t){e.when("GET",n+"/v1/permissions").respond({result:[t[0],t[1]]}),e.when("GET",n+"/v1/permissions/permissionId1").respond({result:t[0]}),e.when("GET",n+"/v1/permissions/permissionId2").respond({result:t[1]})}]),angular.module("liveopsConfigPanel.shared.services").factory("PlatformPermission",["LiveopsResourceFactory","apiHostname",function(e,n){var t=e.create({endpoint:n+"/v1/permissions/:id",resourceName:"PlatformPermission",updateFields:[]});return t.prototype.getDisplay=function(){return this.name},t}]),angular.module("liveopsConfigPanel.shared.services").factory("PlatformRole",["LiveopsResourceFactory","apiHostname",function(e,n){var t=e.create({endpoint:n+"/v1/roles:id",resourceName:"PlatformRole",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"permissions",optional:!0}]});return t.prototype.getDisplay=function(){return this.name},t.getName=function(e){return t.cachedGet({id:e}).name},t}]),angular.module("liveopsConfigPanel.tenant.role.mock",["liveopsConfigPanel.mock"]).service("mockRoles",function(e){return[new e({id:"roleId1",name:"roleName1",tenantId:"tenant-id",permissions:[]}),new e({id:"roleId2",name:"roleName2",tenantId:"tenant-id",permissions:[]}),new e({id:"roleId3",name:"roleName3",description:"Does not exist yet!",tenantId:"tenant-id",permissions:[]})]}).run(["$httpBackend","apiHostname","mockRoles",function(e,n,t){e.when("GET",n+"/v1/tenants/tenant-id/roles").respond({result:[t[0],t[1]]}),e.when("GET",n+"/v1/tenants/tenant-id/roles/roleId1").respond({result:t[0]}),e.when("GET",n+"/v1/tenants/tenant-id/roles/roleId2").respond({result:t[1]})}]).service("mockPlatformRoles",function(e){return[new e({id:"roleId1",name:"roleName1",permissions:[]}),new e({id:"roleId2",name:"roleName2",permissions:[]})]}).run(["$httpBackend","apiHostname","mockPlatformRoles",function(e,n,t){e.when("GET",n+"/v1/roles").respond({result:[t[0],t[1]]}),e.when("GET",n+"/v1/roles/roleId1").respond({result:t[0]}),e.when("GET",n+"/v1/roles/roleId2").respond({result:t[1]})}]),angular.module("liveopsConfigPanel.shared.services").factory("TenantPermission",["LiveopsResourceFactory","apiHostname",function(e,n){var t=e.create({endpoint:n+"/v1/tenants/:tenantId/permissions/:id",resourceName:"TenantPermission",updateFields:[]});return t.prototype.getDisplay=function(){return this.name},t}]),angular.module("liveopsConfigPanel.shared.services").factory("TenantRole",["LiveopsResourceFactory","apiHostname","Session","cacheAddInterceptor","emitInterceptor",function(e,n,t,r,o){var i=e.create({endpoint:n+"/v1/tenants/:tenantId/roles/:id",resourceName:"TenantRole",updateFields:[{name:"name"},{name:"description",optional:!0},{name:"permissions"}],saveInterceptor:[r,o]});return i.prototype.getDisplay=function(){return this.name},i.getName=function(e){return i.cachedGet({tenantId:t.tenant.tenantId,id:e}).name},i}]),angular.module("liveopsConfigPanel.shared.services").service("tenantUserTransformer",["User","TenantRole","Session",function(e,n,t){var r=function(e,n,t){e[t]=e[n],delete e[n]},o=function(e,n,t){e.$user[t?t:n]=e[n],delete e[n]},i=function(e,n){e.$user[n]=e[n]};this.transform=function(a){a.$user=new e,a.userId&&r(a,"userId","id"),o(a,"firstName"),o(a,"lastName"),o(a,"externalId"),o(a,"personalTelephone"),o(a,"platformStatus","status"),i(a,"id"),i(a,"email"),r(a,"groups","$groups"),r(a,"skills","$skills"),a.roleName?r(a,"roleName","$roleName"):a.$roleName=n.getName(a.roleId),a.tenantId=t.tenant.tenantId,a.$user.$original=angular.copy(a.$user)}}]).service("tenantUserInterceptor",["tenantUserTransformer",function(e){this.response=function(n){var t=n.resource;return e.transform(t),t}}]).service("tenantUserQueryInterceptor",["tenantUserTransformer",function(e){this.response=function(n){return angular.forEach(n.resource,function(n){e.transform(n)}),n.resource}}]),angular.module("liveopsConfigPanel.shared.services").factory("TenantUser",["LiveopsResourceFactory","apiHostname","tenantUserInterceptor","tenantUserQueryInterceptor","cacheAddInterceptor",function(e,n,t,r,o){var i=e.create({endpoint:n+"/v1/tenants/:tenantId/users/:id",resourceName:"TenantUser",updateFields:[{name:"status"},{name:"roleId"},{name:"extensions"}],getInterceptor:t,queryInterceptor:r,saveInterceptor:[t,o],updateInterceptor:t});i.prototype.getDisplay=function(){return this.$user?this.$user.getDisplay():void 0};var a=i.prototype.reset;return i.prototype.reset=function(){a.call(this),this.$user.reset()},i.prototype.isNew=function(){return!this.id},i}]),angular.module("liveopsConfigPanel.tenant.user.mock",["liveopsConfigPanel.mock","liveopsConfigPanel.tenant.role.mock"]).service("mockTenantUsers",function(e){return[new e({id:"userId1",status:"pending",externalId:73795,lastName:"Lowe",firstName:"Munoz",email:"munoz.lowe@hivedom.org",tenantId:"tenant-id",roleName:"roleName1",roleId:"roleId1",skills:[],groups:[]}),new e({id:"userId2",status:"accepted",externalId:80232,lastName:"Oliver",firstName:"Michael",email:"michael.oliver@ezent.io",tenantId:"tenant-id",roleName:"roleName1",roleId:"roleId1",skills:[],groups:[]}),new e({email:"test1@bluespurs.com",createdBy:"userId1",personalTelephone:null,platformStatus:"pending",firstName:"test",created:"2015-08-19T13:25:13Z",state:"offline",extension:"ca027450_4673_11e5_bded_621c6d9e2761",$skills:[],externalId:"56789",status:"invited",id:"userId100",lastName:"1",groups:[{tenantId:"tenant-id",memberId:"userId1",groupId:"groupId1",added:"2015-08-19T13:25:13Z",memberType:"user",name:"everyone",ower:"userId1",description:"everyone group"}],roleId:"roleId1"}),new e({tenantId:"tenantId",email:"test1@bluespurs.com",createdBy:"userId1",sessionReason:null,invitationExpiryDate:"2015-08-20T13:36:11Z",updated:null,created:"2015-08-19T13:36:11Z",state:"offline",extension:"41903310_4677_11e5_bded_621c6d9e2761",updatedBy:null,status:"invited",userId:"userId100",sessionStarted:"2015-08-19T13:36:11Z",roleId:"roleId1"})]}).run(["$httpBackend","apiHostname","mockTenantUsers",function(e,n,t){e.when("GET",n+"/v1/tenants/tenant-id/users/userId1").respond({result:t[0]}),e.when("GET",n+"/v1/tenants/tenant-id/users/userId2").respond({result:t[1]}),e.when("GET",n+"/v1/tenants/tenant-id/users/userId100").respond({result:t[2]}),e.when("GET",n+"/v1/tenants/tenant-id/users").respond({result:[t[0],t[1]]}),e.when("GET",n+"/v1/tenants/tenant-id/userId").respond(404),e.when("POST",n+"/v1/tenants/tenant-id/users").respond(t[3])}]),angular.module("liveopsConfigPanel.shared.services").factory("FlowDraft",["LiveopsResourceFactory","apiHostname","emitInterceptor","$http",function(e,n,t,r){var o=n+"/v1/tenants/:tenantId/flows/:flowId/drafts/:id",i=e.create({endpoint:o,resourceName:"FlowDraft",updateFields:[{name:"tenantId"},{name:"name"},{name:"description",optional:!0},{name:"flowId"},{name:"flow"},{name:"history"}],saveInterceptor:t,updateInterceptor:t});return i.prototype.getDisplay=function(){return this.name},i.prototype.validate=function(){var e=n+"/v1/tenants/"+this.tenantId+"/flows/"+this.flowId+"/drafts/"+this.id+"/validate";return r({method:"POST",url:e}).then(function(){return!0},function(e){return e})},i}]),angular.module("liveopsConfigPanel.tenant.flow.draft.mock",["liveopsConfigPanel.mock","liveopsConfigPanel.tenant.flow.mock"]).value("mockFlowDrafts",[{name:"Draft 1",version:"flowDraftId1",flowId:"flowId1",tenantId:"tenant-id",flow:"[]"},{name:"Draft 2",version:"flowDraftId2",flowId:"flowId1",tenantId:"tenant-id",flow:"[]"},{name:"Draft 3",version:"flowDraftId3",flowId:"flowId2",tenantId:"tenant-id",flow:"[]"},{name:"Draft 4",version:"flowDraftId4",flowId:"flowId3",tenantId:"tenant-id",flow:"[]"}]).run(["$httpBackend","apiHostname","mockFlows","mockFlowDrafts","Session",function(e,n,t,r,o){e.when("GET",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[0].id+"/drafts/"+r[0].id).respond({result:r[0]}),e.when("GET",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[0].id+"/drafts/"+r[1].id).respond({result:r[1]}),e.when("GET",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[1].id+"/drafts/"+r[2].id).respond({result:r[2]}),e.when("GET",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[0].id+"/drafts").respond({result:[r[0],r[1]]}),e.when("POST",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[2].id+"/drafts").respond({result:r[3]})}]),angular.module("liveopsConfigPanel.shared.services").factory("FlowVersion",["LiveopsResourceFactory","apiHostname","emitInterceptor",function(e,n,t){var r=e.create({endpoint:n+"/v1/tenants/:tenantId/flows/:flowId/versions/:version",resourceName:"FlowVersion",updateFields:[{name:"tenantId"},{name:"name"},{name:"description",optional:!0},{name:"flowId"},{name:"flow"}],saveInterceptor:t,updateInterceptor:t});return r.prototype.getDisplay=function(){return this.name},r}]),angular.module("liveopsConfigPanel.tenant.flow.version.mock",["liveopsConfigPanel.mock","liveopsConfigPanel.tenant.flow.mock"]).value("mockFlowVersions",[{name:"v1",version:"flowVersionId1",flowId:"flowId1",tenantId:"tenant-id",flow:"[]"},{name:"v2",version:"flowVersionId2",flowId:"flowId1",tenantId:"tenant-id",flow:"[]"},{name:"v3",version:"flowVersionId3",flowId:"flowId2",tenantId:"tenant-id",flow:"[]"},{name:"v4",version:"flowVersionId4",flowId:"flowId3",tenantId:"tenant-id",flow:"[]"}]).run(["$httpBackend","apiHostname","mockFlows","mockFlowVersions","Session",function(e,n,t,r,o){e.when("GET",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[0].id+"/versions/"+r[0].id).respond({result:r[0]}),e.when("GET",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[0].id+"/versions/"+r[1].id).respond({result:r[1]}),e.when("GET",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[1].id+"/versions/"+r[2].id).respond({result:r[2]}),e.when("GET",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[0].id+"/versions").respond({result:[r[0],r[1]]}),e.when("POST",n+"/v1/tenants/"+o.tenant.tenantId+"/flows/"+t[2].id+"/versions").respond({result:r[3]})}]),angular.module("liveopsConfigPanel.tenant.queue.version.mock",["liveopsConfigPanel.mock"]).service("mockQueueVersions",["QueueVersion",function(e){return[new e({version:"qv1",tenantId:"tenant-id",queueId:"queueId1"}),new e({version:"qv2",tenantId:"tenant-id",queueId:"queueId2"}),new e({version:"qv3",tenantId:"tenant-id",queueId:"queueId2"})]}]).run(["$httpBackend","apiHostname","mockQueueVersions","Session",function(e,n,t,r){e.when("GET",n+"/v1/tenants/"+r.tenant.tenantId+"/queues/queueId1/versions").respond({result:[t[0]]}),e.when("GET",n+"/v1/tenants/"+r.tenant.tenantId+"/queues/queueId2/versions").respond({result:[t[1],t[2]]})}]),angular.module("liveopsConfigPanel.shared.services").factory("QueueVersion",["LiveopsResourceFactory","apiHostname","emitInterceptor","cacheAddInterceptor",function(e,n,t,r){var o=e.create({endpoint:n+"/v1/tenants/:tenantId/queues/:queueId/versions/:id",resourceName:"QueueVersion",updateFields:[{name:"name",optional:!0},{name:"description",optional:!0},{name:"query",optional:!0},{name:"minPriority",optional:!0},{name:"maxPriority",optional:!0},{name:"priorityValue",optional:!0},{name:"priorityRate",optional:!0},{name:"priorityUnit",optional:!0}],saveInterceptor:[t,r],updateInterceptor:t});return o.prototype.getDisplay=function(){return this.name},o.prototype.cacheKey=function(){return"QueueVersion"+this.queueId},o}]),angular.module("liveopsConfigPanel.shared.services").factory("TenantGroupUsers",["LiveopsResourceFactory","apiHostname",function(e,n){return e.create({endpoint:n+"/v1/tenants/:tenantId/groups/:groupId/users/:memberId",resourceName:"TenantGroupUser",requestUrlFields:{tenantId:"@tenantId",groupId:"@groupId",memberId:"@memberId"}})}]),angular.module("liveopsConfigPanel.shared.services").factory("TenantUserGroups",["LiveopsResourceFactory","apiHostname",function(e,n){return e.create({endpoint:n+"/v1/tenants/:tenantId/users/:memberId/groups",resourceName:"TenantUserGroup",requestUrlFields:{tenantId:"@tenantId",memberId:"@memberId"}})}]),angular.module("liveopsConfigPanel.tenant.user.group.mock",["liveopsConfigPanel.mock"]).service("mockGroupUsers",function(e){return[new e({groupId:"groupId1",memberId:"userId1",tenantId:"tenant-id"}),new e({groupId:"groupId2",memberId:"userId1",tenantId:"tenant-id"}),new e({groupId:"groupId1",memberId:"userId2",tenantId:"tenant-id"})]}).service("mockUserGroups",function(e){return[new e({groupId:"groupId1",memberId:"userId1",tenantId:"tenant-id"}),new e({groupId:"groupId2",memberId:"userId1",tenantId:"tenant-id"}),new e({groupId:"groupId1",memberId:"userId2",tenantId:"tenant-id"})]}).run(["$httpBackend","apiHostname","mockGroups","mockGroupUsers","mockUserGroups","Session",function(e,n,t,r,o,i){i.tenant.tenantId="tenant-id",e.when("POST",n+"/v1/tenants/tenant-id/groups/groupId1/users",{userId:"userId1"}).respond(200,o[1]),e.when("POST",n+"/v1/tenants/tenant-id/groups/groupId2/users",{userId:"userId1"}).respond(200,o[1]),e.when("DELETE",n+"/v1/tenants/tenant-id/groups/groupId1/users/userId1").respond(200),e.when("DELETE",n+"/v1/tenants/tenant-id/groups/groupId1/users/userId2").respond(200),e.when("GET",n+"/v1/tenants/tenant-id/users/userId1/groups").respond({result:[o[0],o[1]]}),e.when("GET",n+"/v1/tenants/tenant-id/users/userId2/groups").respond({result:[o[2]]}),e.when("GET",n+"/v1/tenants/tenant-id/groups/groupId1/users").respond({result:[r[0],r[2]]}),e.when("GET",n+"/v1/tenants/tenant-id/groups/groupId2/users").respond({result:[r[1]]}),e.when("GET",n+"/v1/tenants/tenant-id/groups/groupId3/users").respond({result:[]})}]),angular.module("liveopsConfigPanel.shared.services").service("removeDefaultProficiencyInterceptor",["queryCache","Skill","Session","filterFilter",function(e,n,t,r){this.response=function(e){var o=e.resource.skillId;return n.cachedQuery({tenantId:t.tenant.tenantId}).$promise.then(function(n){var t=r(n,{id:o},!0);t.length>0&&(t[0].hasProficiency||delete e.resource.proficiency)}),e.resource}}]),angular.module("liveopsConfigPanel.shared.services").service("setSkillNameInterceptor",["queryCache","Skill","Session","filterFilter",function(e,n,t,r){this.response=function(e){var o=e.resource.skillId;return n.cachedQuery({tenantId:t.tenant.tenantId}).$promise.then(function(n){var t=r(n,{id:o},!0);t.length>0&&(e.resource.name=t[0].name)}),e.resource}}]),angular.module("liveopsConfigPanel.shared.services").factory("TenantSkillUser",["LiveopsResourceFactory","apiHostname",function(e,n){return e.create({endpoint:n+"/v1/tenants/:tenantId/skills/:skillId/users/:userId",resourceName:"TenantSkillUser"})}]),angular.module("liveopsConfigPanel.shared.services").factory("TenantUserSkill",["LiveopsResourceFactory","apiHostname","emitInterceptor","cacheAddInterceptor","userSkillCacheRemoveInterceptor","setSkillNameInterceptor","removeDefaultProficiencyInterceptor",function(e,n,t,r,o,i,a){var s=e.create({endpoint:n+"/v1/tenants/:tenantId/users/:userId/skills/:skillId",resourceName:"TenantUserSkill",updateFields:[{name:"proficiency"}],requestUrlFields:{tenantId:"@tenantId",userId:"@userId",skillId:"@id"},saveInterceptor:[t,i,a,r],updateInterceptor:[t,i],deleteInterceptor:o});return s.prototype.cacheKey=function(){return"TenantUserSkill"+this.userId},s}]),angular.module("liveopsConfigPanel.shared.services").service("userSkillCacheRemoveInterceptor",["queryCache","filterFilter",function(e,n){this.response=function(t){if(angular.isDefined(t.resource.cacheKey())){var r=t.resource.cacheKey();if(e.get(r)){var o=n(e.get(r),{skillId:t.resource.skillId},!0);o.length>0&&e.get(r).removeItem(o[0])}}return t.resource}}]);